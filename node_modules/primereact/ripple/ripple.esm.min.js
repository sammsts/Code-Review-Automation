import*as e from"react";import{useMountEffect as t,useUpdateEffect as r,useUnmountEffect as n}from"primereact/hooks";import{DomHandler as c}from"primereact/utils";import u,{PrimeReactContext as o}from"primereact/api";var i=e.memo(e.forwardRef((function(){var i=e.useRef(null),a=e.useRef(null),s=e.useContext(o),l=function(){return i.current&&i.current.parentElement},p=function(){a.current&&(a.current.addEventListener("mousedown",m),c.isTouchDevice()&&a.current.addEventListener("touchstart",f))},f=function(e){var t=c.getOffset(a.current),r=e.targetTouches[0].pageX-t.left+document.body.scrollTop-c.getWidth(i.current)/2,n=e.targetTouches[0].pageY-t.top+document.body.scrollLeft-c.getHeight(i.current)/2;d(r,n)},m=function(e){if(!c.isTouchDevice()){var t=c.getOffset(a.current),r=e.pageX-t.left+document.body.scrollTop-c.getWidth(i.current)/2,n=e.pageY-t.top+document.body.scrollLeft-c.getHeight(i.current)/2;d(r,n)}},d=function(e,t){i.current&&"none"!==getComputedStyle(i.current,null).display&&(c.removeClass(i.current,"p-ink-active"),g(),i.current.style.top=t+"px",i.current.style.left=e+"px",c.addClass(i.current,"p-ink-active"))},g=function(){if(i.current&&!c.getHeight(i.current)&&!c.getWidth(i.current)){var e=Math.max(c.getOuterWidth(a.current),c.getOuterHeight(a.current));i.current.style.height=e+"px",i.current.style.width=e+"px"}};return t((function(){i.current&&(a.current=l(),g(),p())})),r((function(){i.current&&!a.current&&(a.current=l(),g(),p())})),n((function(){i.current&&(a.current=null,a.current&&(a.current.removeEventListener("mousedown",m),c.isTouchDevice()&&a.current.removeEventListener("touchstart",f)))})),s&&s.ripple||u.ripple?e.createElement("span",{role:"presentation",ref:i,className:"p-ink",onAnimationEnd:function(e){c.removeClass(e.currentTarget,"p-ink-active")}}):null})));i.displayName="Ripple";export{i as Ripple};
