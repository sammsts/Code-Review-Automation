import*as t from"react";import r from"react-dom";import{useMountEffect as e,useUpdateEffect as n,useUnmountEffect as o}from"primereact/hooks";import{ObjectUtils as a,DomHandler as l}from"primereact/utils";import u,{PrimeReactContext as i}from"primereact/api";function f(t){if(Array.isArray(t))return t}function c(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a,l,u=[],i=!0,f=!1;try{if(a=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;i=!1}else for(;!(i=(n=a.call(e)).done)&&(u.push(n.value),u.length!==r);i=!0);}catch(t){f=!0,o=t}finally{try{if(!i&&null!=e.return&&(l=e.return(),Object(l)!==l))return}finally{if(f)throw o}}return u}}function p(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function m(t,r){if(t){if("string"==typeof t)return p(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,r):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(t){return a.getMergedProps(t,s.defaultProps)},getOtherProps:function(t){return a.getDiffProps(t,s.defaultProps)}},y=t.memo((function(a){var p,y,h=s.getProps(a),v=t.useContext(i),b=t.useState(h.visible&&l.hasDOM()),g=(y=2,f(p=b)||c(p,y)||m(p,y)||d()),P=g[0],M=g[1];e((function(){l.hasDOM()&&!P&&(M(!0),h.onMounted&&h.onMounted())})),n((function(){h.onMounted&&h.onMounted()}),[P]),o((function(){h.onUnmounted&&h.onUnmounted()}));var O=h.element||h.children;if(O&&P){var A=h.appendTo||v&&v.appendTo||u.appendTo||document.body;return"self"===A?O:r.createPortal(O,A)}return null}));y.displayName="Portal";export{y as Portal};
